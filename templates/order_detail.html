{% extends 'base_generic.html' %}

{% block title %}Order Details | Online Shop{% endblock %}

{% block content %}
    <div class="card">
        <div class="card-header">
            <h3>Order #{{ order.id }}</h3>
        </div>
        <div class="card-body">
            <p><strong>Customer:</strong> {{ order.customer.username }}</p>
            <p><strong>Status:</strong> {{ order.status }}</p>
            <p><strong>Shipping Address:</strong> {{ order.shipping_address }}</p>
            <p><strong>Total Price:</strong> ${{ order.total_price }}</p>
            <p><strong>Created At:</strong> {{ order.created_at }}</p>

            <h4>Ordered Products:</h4>
            <ul>
                {% for item in order.product_set.all %}
                    <li>{{ item.name }} x{{ item.orderproduct_set.first.quantity }} - ${{ item.price }}</li>
                {% endfor %}
            </ul>

            <a href="{% url 'order_update' order.pk %}" class="btn btn-warning mt-3">Edit Order</a>
            <a href="{% url 'order_delete' order.pk %}" class="btn btn-danger mt-3">Delete Order</a>
        </div>
    </div>
{% endblock %}
